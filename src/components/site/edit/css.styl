:host
  overflow auto
  display flex
  flex-flow column
  flex 1 1 auto
  --gutter-color var(--accent)
  --gutter-width 1px

button
  font-size var(--small-copy-font-size)
  background var(--background)
  color var(--highlight)
  min-width 6rem

input, span
  font-size inherit
  background transparent
  border none
  outline none
  min-width 0
  border-radius 0.5rem
  cursor pointer
  white-space nowrap
  overflow hidden
  text-overflow ellipsis

main
  display flex
  flex-flow column
  height 100%

  --first-level-heading-font-size var(--default-heading-font-size)
  --first-level-heading-line-height var(--default-heading-line-height)

  --second-level-heading-font-size var(--small-heading-font-size)
  --second-level-heading-line-height var(--small-heading-line-height)

  --third-level-heading-font-size var(--smaller-heading-font-size)
  --third-level-heading-line-height var(--smaller-heading-line-height)

  & > header
    margin-bottom 1rem

  & > div
    overflow auto
    flex 1 1 auto
    border 1px solid var(--accent)
    border-radius 0.25rem


[slot="navigator"]
  padding 1rem
  width 100%

  nav
    display flex
    gap 0.5rem
    margin-block-end 1rem

  .node

    // & > :has(label) is the selectable part of the node
    // &:not(details) is a leaf node
    // details styling (for container nodes) is below

    & > :has(label)
      & > summary, &:not(details)
        padding-inline 2px
        padding-block 1px
        border-radius 2px

      &:not(details)
        margin-inline-start 1.25rem

    &.selected 
      & > :has(label)
        & > summary, &:not(details)
          background unquote("color-mix(in lch, var(--background), var(--highlight) 50%)")

      input
        &:focus
          cursor text
          background var(--background)

    input, span
      font-size var(--small-copy-font-size)

    & > :has(label)
      .zone
        --zone-accent unquote("color-mix(in lch, var(--background), var(--highlight) 75%)")
        &[data-parent]
          &.targeted
            background var(--zone-accent)

    & > .zone
      &[data-at]
        height 4px
        &.targeted
          background var(--zone-accent)

      &[data-at="before"]  
        display none

    &:first-child > .zone
      &[data-at="before"]
        display block

    &:has(> details > summary > .source)
      .zone
        display none

    & > details
      & > summary
        &::marker
          font-family remixicon
          // arrow-right-s-fill
          content "\EA6D"
      
        & > label
          margin-inline-start 0.5rem

      &[open]
        & > summary::marker
          // arrow-down-s-fill
          content "\EA4D"
      
      & > div
        margin-inline-start 1.25rem


[slot="editor"]
  padding 1rem
  height s("calc(100% - 2rem)")
  width s("calc(100% - 2rem)")
  overflow-y scroll


[slot="preview"]
  height 100%
  overflow scroll

    